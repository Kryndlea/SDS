{
  "hash": "0bb6a8622577260a98ee99dd510db8b2",
  "result": {
    "markdown": "---\ntitle: Jupyter and Python\nformat:\n  html: default\n  ipynb: default\n---\n\nWelcome to the first **hands-on** section of the course. You will familiarise yourself\nwith the tools you will be using, ensure that all works as it should, and prepare for\nsome Python code.\n\n::: {.callout-important}\n## Do you have Python ready?\n\nBefore you start, ensure you have carefully read and followed the instructions\n[outlined in the Infrastructure section](../chapter_00/infrastructure.qmd) and have a\nworking installation of Python and some Jupyter Notebook IDE, either via Jupyter Lab\n(recommended) or on Google Colab.\n:::\n\n## Computer Science 101\n\nSpatial Data Science depends on code, and coding environments can be unfriendly to\nan average user. People designing the tools are often computer scientists or have a strong\nknowledge of CS-related environments. It means we sometimes need to deal with the tools\nthat look a bit scary, like a Terminal or a Command line. Below is a brief introduction\nto the tools you will need for this course.\n\n### Terminal and Command line\n\nDepending on your operating system, you will have either Terminal (macOS, Linux) or\nCommand line application installed. It will look like this:\n\n![Terminal on macOS](../assets/figures/chapter_01/terminal.png)\n\nTerminal (and Command line, but we will refer to both as the terminal for simplicity) is\nused to interact with applications that do not have any graphic interface or with\nthe apps that do have one, but you want to use them programmatically. The terminal usage\nis straightforward. Let's start with a few examples.\n\nYou want to see a list of files and folders for this course. First, you need to navigate to\nthe correct folder. For that, you can use the `cd` command, which stands for [c]{.accent}urrent\n[d]{.accent}irectory.\n\n```sh\ncd university/sds/\n```\n\nLet's assume that you have the folder with course material in the folder called `sds` in\nanother folder called `university`. The full command is then composed of the `cd` part,\nsaying *set the current directory to...* and waits for the parameter, which is a path\nto the folder in this case - `university/sds/`.\n\nOnce in the correct folder, you can use another command, `ls`, which stands for [l]{.accent}i[s]{.accent}t\nand allows you to list the contents of the current directory.\n\n```sh\nls\n```\n\nThe output would look like this:\n\n![Output of the `ls` command.](../assets/figures/chapter_01/ls.png)\n\nYou can also pass a parameter `-l`, specifying that you want a long listing including attributes.\n\n```sh\nls -l\n```\n\nThat changes the output to this:\n\n![Output of the `ls -l` command.](../assets/figures/chapter_01/ls-l.png)\n\nThe syntax is always the same, starting with the app name and then followed by parameters.\n\n## Conda and Mamba\n\nIf you\nfollowed the installation of Python described in the [infrastructure](../chapter_00/infrastructure.qmd)\nsection, you have used `mamba` app, with parameters specifying that you want to use it\nto create an environment based on an `environment.yml` file. But what is mamba?\n\nMamba, and its predecessor, conda, are tools you will use to create \"environments\" and install\nPython and Python packages. It is a package manager, ensuring\nall the necessary parts work together. For example, if you want to create a new environment\nand install Python in it, you type the following command in your terminal.\n\n```sh\nmamba create -n my_environment python\n```\n\nYou can check more in the [documentation of mamba](https://mamba.readthedocs.io/).\n\n### Other options\n\nMamba is not the only way of doing this. If you don't want to install anything on your\nlocal machine, you can use [Google Colab](http://colab.research.google.com), which gives you an environment with Python and an\ninterface to work with Jupyter Notebooks. To use it, refer to the Colab section of the infrastructure documentation for differences. TODO\n\n## Jupyter Notebook and Jupyter Lab\n\nWhile you can interact with Python from the terminal, it is inconvenient. Instead, we will\nuse Jypyter Notebooks and Jupyter Lab. Jupyter Notebooks are documents that allow you to mix text and code, execute small pieces\nof code one at a time and include graphical outputs of your code. Jupyter Lab is a handy interface allowing you to work with multiple\nnotebooks and switch between your Python environments created with mamba.\n\nIt is time to say goodbye to the terminal and start Jupyter Lab. You should ensure you have your `sds` environment\nactivated first:\n\n```sh\nmamba activate sds\n```\n\nThen you can start Lab using:\n\n```sh\njupyter lab\n```\n\nThis command should open your browser and load the Jupyter Lab interface.\n\n![Jupyter Lab interface](../assets/figures/chapter_01/lab.png)\n\nIn the launcher, we can create a new Notebook by clicking on the Python logo representing\nour current environment. If you have more of them, you will see them there, as well as\nother environments using different programming languages like R or Julia.\n\nThe notebook is composed of cells. This is a cell:\n\n![Jupyter Notebook cell](../assets/figures/chapter_01/cell.png)\n\nCells can contain either code or text. A typical notebook is then a series of cells where\nsome include text describing what is happening while others contain the code, either\nwaiting for execution or already executed. The cells with the executed code may also\ncontain outputs.\n\nWe can start with simple math that Python can do natively. Run the following code cell.\nTo do that, you can either click the \"play\" button on top or hit [Shift]{.keystroke} + [Enter]{.keystroke}:\n\n::: {#6bc28f7a .cell execution_count=1}\n``` {.python .cell-code}\n1 + 1\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n2\n```\n:::\n:::\n\n\nYou now have a code cell with the output. Jupyter Lab automatically created a new cell.\nChange its type to `Markdown` and write a short text describing what the cell above does.\n\n## Let the snake in\n\nYou can start exploring Python.\n\n### Simple Python math\n\nAs shown above, Python can be used as a simple calculator. Remember, you can press\n[Shift]{.keystroke} + [Enter]{.keystroke} to execute the code in the cells below.\nTry it out by typing some simple math into new cells and see what you get.\n\n::: {#24a559a3 .cell execution_count=2}\n``` {.python .cell-code}\n42 * 12\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n504\n```\n:::\n:::\n\n\n::: {#4ad0867a .cell execution_count=3}\n``` {.python .cell-code}\n12 / 3\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n4.0\n```\n:::\n:::\n\n\nIf you want to edit and re-run some code, change the cell and press [Shift]{.keystroke} + [Enter]{.keystroke} to execute the modified code.\n\n### Functions\n\nYou can use Python for more advanced math by using a function. Functions are pieces of code that perform a single action, such as printing information to the screen (e.g., the `print()` function). Functions exist for a huge number of operations in Python.\n\nLetâ€™s try out a few simple examples using functions to find the sine or square root of a value. You can type `sin(3)` or `sqrt(4)` into the cells below to test this out.\n\n::: {#10cea592 .cell execution_count=4}\n``` {.python .cell-code}\nsin(3)\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'sin' is not defined\n```\n:::\n:::\n\n\n::: {#d22bf833 .cell execution_count=5}\n``` {.python .cell-code}\nsqrt(4)\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'sqrt' is not defined\n```\n:::\n:::\n\n\nWell, that didn't work. Python can calculate square roots or do basic trigonometry, but we need one more step.\n\n#### Math operations\n\nThe table below shows the list of basic arithmetic operations that can be done by default in Python.\n\n| Operation      | Symbol | Example syntax | Returned value |\n| -------------- | ------ | -------------- | -------------- |\n| Addition       | `+`    | `2 + 2`        | `4`            |\n| Subtraction    | `-`    | `4 - 2`        | `2`            |\n| Multiplication | `*`    | `2 * 3`        | `6`            |\n| Division       | `/`    | `4 / 2`        | `2`            |\n| Exponentiation | `**`   | `2 ** 3`       | `8`            |\n\nFor anything more advanced, we need to load a [module]{.accent} or a [package]{.accent}. For math operations, this module is called `math` and can be loaded by typing `import math`.\n\n::: {#1f4fa06a .cell execution_count=6}\n``` {.python .cell-code}\nimport math\n```\n:::\n\n\nNow that we have access to functions in the `math` module, we can use it by typing the module name, a period (dot), and the name of the function we want to use. For example, ``math.sin(3)``. Try this with the sine and square root examples from above.\n\n::: {#658ab123 .cell execution_count=7}\n``` {.python .cell-code}\nmath.sin(3)\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\n0.1411200080598672\n```\n:::\n:::\n\n\n::: {#6b1c7f3f .cell execution_count=8}\n``` {.python .cell-code}\nmath.sqrt(4)\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```\n2.0\n```\n:::\n:::\n\n\nLet's summarise what you've just done with modules:\n\n1. A *module* is a group of code items, such as functions, related to one another. Individual modules are often in a group called a *package*.\n\n2. Modules can be loaded using ``import``. Functions that are part of the module ``modulename`` can then be used by typing ``modulename.functionname()``. For example, ``sin()`` is a function that is part of the ``math`` module and is used by typing ``math.sin()`` with some number between the parentheses.\n\n3. Within a Jupyter Notebook, the variables you defined earlier in the notebook will be available for use in the following cells as long as you have executed the cells.\n\n4. Modules may also contain constants such as ``math.pi`` (notice no parentheses at the end). Type this in the cell below to see the constant's ``math.pi`` value.\n\n::: {#d03c4c49 .cell execution_count=9}\n``` {.python .cell-code}\nmath.pi\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\n3.141592653589793\n```\n:::\n:::\n\n\n#### Check your understanding\n\nUse the empty Python cell to calculate the sine of pi. What value do you expect for this calculation? Did you get the desired result?\n\n::: {#63881d88 .cell execution_count=10}\n``` {.python .cell-code code-fold=\"true\"}\n# Here is an example solution\nmath.sin(math.pi)\n```\n:::\n\n\n#### Combining functions\n\nFunctions can also be combined. The `print()` function returns values within the parentheses as text on the screen. Below, try printing the value of the square root of four.\n\n::: {#a479af63 .cell execution_count=11}\n``` {.python .cell-code}\nprint(math.sqrt(4))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n2.0\n```\n:::\n:::\n\n\nYou can also combine text with other calculated values using the `print()` function. For example, `print('Two plus two is', 2+2)` would generate the text reading `'Two plus two is 4'`. Combine the `print()` function with the `math.sqrt()` function in the cell below to produce text that reads `'The square root of 4 is 2.0'`.\n\n::: {#42864904 .cell execution_count=12}\n``` {.python .cell-code}\nprint(\"The square root of 4 is\", math.sqrt(4))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nThe square root of 4 is 2.0\n```\n:::\n:::\n\n\n### Variables\n\nA [variable]{.accent} can store values calculated in expressions and used for other calculations. Assigning value to variables is straightforward. To assign a value, you type ``variable_name = value``, where ``variable_name`` is the name of the variable you wish to define. In the cell below, define a variable called ``temp_celsius``, assign it a value of `10.0`, and then print that variable value using the ``print()`` function. Note that you should do this on two separate lines.\n\n::: {#07221fe6 .cell execution_count=13}\n``` {.python .cell-code}\ntemp_celsius = 10.0\nprint(temp_celsius)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n10.0\n```\n:::\n:::\n\n\nAs we did above, you can combine text and even use some math when printing out variable values. The idea is similar to adding 2+2 or calculating the square root of four from the previous section. In the cell below, print out the value of ``temp_celsius`` in degrees Fahrenheit by multiplying ``temp_celsius`` by 9/5 and adding 32. This should be done within the ``print()`` function to produce output that reads `'Temperature in Fahrenheit: 50.0'`.\n\n::: {#960bbf99 .cell execution_count=14}\n``` {.python .cell-code}\nprint(\"Temperature in Fahrenheit:\", 9 / 5 * temp_celsius + 32)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTemperature in Fahrenheit: 50.0\n```\n:::\n:::\n\n\n#### Check your understanding\n\nUse the empty Python cell below to define a variable and print its value to the screen using the `print()` function.\nThe variable value can be anything you like, and you can even consider defining several variables and printing them out together.\nConsider using pothole_case_naming for your variable name.\n\n::: {#c485787b .cell execution_count=15}\n``` {.python .cell-code code-fold=\"true\"}\n# Here is an example solution\npart1 = \"I like\"\npart2 = \"Python!\"\nprint(part1, part2)\n```\n:::\n\n\n### Updating variables\n\nValues stored in variables can also be updated. Let's redefine the value of ``temp_celsius`` to be equal to 15.0 and print its value in the cells below.\n\n::: {#8bd6cad8 .cell execution_count=16}\n``` {.python .cell-code}\ntemp_celsius = 15.0\n```\n:::\n\n\n::: {#4cdf905e .cell execution_count=17}\n``` {.python .cell-code}\nprint(\"temperature in Celsius is now:\", temp_celsius)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ntemperature in Celsius is now: 15.0\n```\n:::\n:::\n\n\n::: {.callout-warning}\nIf you try to run some code that accesses a variable that has not yet been defined, you will get a `NameError` message. Try printing out the value of the variable `temp_fahrenheit` using the `print()` function in the cell below.\n:::\n\n::: {#f4e6e477 .cell execution_count=18}\n``` {.python .cell-code}\nprint(\"Temperature in Celsius:\", 5 / 9 * (temp_fahrenheit - 32))\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'temp_fahrenheit' is not defined\n```\n:::\n:::\n\n\n::: {.callout-note}\nOne of the interesting things here is that if we define the undefined variable in a cell lower down in the notebook and execute that cell, we can return to the earlier cell, and the code should now work. That was a bit of a complicated sentence, so let's test this all out. First, let's define a variable called `temp_fahrenheit` in the cell below and assign it to be equal to `9/5 * temp_celsius + 32`, the conversion factor from temperatures in Celsius to Fahrenheit. Then, return to the cell above this text and run that cell again. See how the error message has gone away? `temp_fahrenheit` has now been defined, and thus, the cell above no longer generates a `NameError` when the code is executed.\n\nAlso, the number beside the cell, for example, `In [2]`, tells you the order in which the Python cells have been executed. This way, you can see a history of the order in which you have run the cells.\n:::\n\n::: {#a83961f2 .cell execution_count=19}\n``` {.python .cell-code}\ntemp_fahrenheit = 9 / 5 * temp_celsius + 32\n```\n:::\n\n\nTo check their current values, print out the values of ``temp_celsius`` and ``temp_fahrenheit`` in the cell below.\n\n::: {#279dea22 .cell execution_count=20}\n``` {.python .cell-code}\nprint(\"temperature in Celsius:\", temp_celsius, \"and in Fahrenheit:\", temp_fahrenheit)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ntemperature in Celsius: 15.0 and in Fahrenheit: 59.0\n```\n:::\n:::\n\n\n### Data types\n\nA [data type]{.accent} determines the characteristics of data in a program.\nThere are four basic data types in Python, as shown in the table below.\n\n| Data type name | Data type            | Example    |\n| -------------- | -------------------- | ---------- |\n| `int`          | Whole integer values | `4`        |\n| `float`        | Decimal values       | `3.1415`   |\n| `str`          | Character strings    | `'Hot'`    |\n| `bool`         | True/false values    | `True`     |\n\nThe data type can be found using the `type()` function.\nAs you will see, the data types are essential because some are incompatible.\n\nLet's define a variable ``weather_forecast`` and assign it the value ``'Hot'``. After this, we can check its data type using the ``type()`` function.\n\n::: {#4a36ed34 .cell execution_count=21}\n``` {.python .cell-code}\nweather_forecast = \"Hot\"\ntype(weather_forecast)\n```\n\n::: {.cell-output .cell-output-display execution_count=19}\n```\nstr\n```\n:::\n:::\n\n\nLet's also check the type of ``temp_fahrenheit``. What happens if you try to combine ``temp_fahrenheit`` and ``weather_forecast`` in a single math equation such as ``temp_fahrenheit = temp_fahrenheit + 5.0 * weather_forecast``?\n\n::: {#09307a63 .cell execution_count=22}\n``` {.python .cell-code}\ntype(temp_fahrenheit)\n```\n\n::: {.cell-output .cell-output-display execution_count=20}\n```\nfloat\n```\n:::\n:::\n\n\n::: {#42647ac6 .cell execution_count=23}\n``` {.python .cell-code}\ntemp_fahrenheit = temp_fahrenheit + 5.0 * weather_forecast\n```\n\n::: {.cell-output .cell-output-error}\n```\nTypeError: can't multiply sequence by non-int of type 'float'\n```\n:::\n:::\n\n\nIn this case, we get at ``TypeError`` because we are trying to execute a math operation with data types that are not compatible. There is no way in Python to multiply numbers with a character string.\n\n#### Check your understanding\n\nAs it turns out, you can do some math with character strings in Python. Define two variables and assign them character string values in the Python cell below. What happens if you try to add two character strings together? Can you subtract them? Which other math operations work for character strings?\n\n::: {#6edf857e .cell execution_count=24}\n``` {.python .cell-code code-fold=\"true\"}\n# Here is an example solution\n\nfirst_variable = \"Python\"\nsecond_variable = \" is cool!\"\n\nprint(first_variable + second_variable)\nprint(5 * first_variable)\nprint(first_variable - second_variable)\n```\n:::\n\n\n## Acknowledgements {.appendix}\n\nThe 'Let the snake in' section is derived from _[A taste of Python](https://geo-python-site.readthedocs.io/en/latest/notebooks/L1/a-taste-of-python.html)_ section of the _[Geo-Python](https://geo-python-site.readthedocs.io) course 2022_ by\nD. Whipp, H. Tenkanen, V. Heikinheimo, H. Aagesen, and C. Fink from the Department of Geosciences and Geography, University of Helsinki, licensed under CC-BY-SA 4.0.\n\n",
    "supporting": [
      "hands_on_files"
    ],
    "filters": [],
    "includes": {}
  }
}